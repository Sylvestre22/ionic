<ion-header>
    <ion-toolbar>
        <ion-buttons slot="start">
            <ion-back-button></ion-back-button>
        </ion-buttons>
    </ion-toolbar>
</ion-header>
<ion-content>
    <ion-content>

        <ion-row class="logo">
            <ion-col size="12" class="ion-align-self-center">
                <input type="button" (click)="uploadPicture()">
                <ion-icon name="add-circle-outline"></ion-icon>
            </ion-col>
        </ion-row>
        <ion-row class="form">
            <ion-col size="12">
                <ion-item [ngClass]="user.first_name.trim().length < 2 ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">firstname</ion-label>
                    <ion-input type="text" [(ngModel)]="user.first_name"></ion-input>
                </ion-item>
                <ion-item [ngClass]="user.last_name.trim().length < 2 ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">lastname</ion-label>
                    <ion-input type="text" [(ngModel)]="user.last_name"></ion-input>
                </ion-item>
                <ion-item [ngClass]="isErrorMail ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">Email</ion-label>
                    <ion-input (keydown)="checkEmail()" type="email" [(ngModel)]="user.email"></ion-input>
                </ion-item>
                <ion-item [ngClass]="isErrorPhone ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">Phone number</ion-label>
                    <ion-input (keyup)="checkPhone()" type="tel" [(ngModel)]="user.phone"></ion-input>
                </ion-item>
                <ion-item [ngClass]="user.password.trim().length < 5 ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">Password</ion-label>
                    <ion-input type="password" [(ngModel)]="user.password"></ion-input>
                </ion-item>
                <ion-item [ngClass]="user.password.trim() != user.confirm_password.trim() || user.confirm_password.trim().length < 2 ? 'errorEmail' : 'goodEmail'">
                    <ion-label position="floating">Re-Password</ion-label>
                    <ion-input type="password" [(ngModel)]="user.confirm_password"></ion-input>
                </ion-item>
            </ion-col>
            <ion-col size="12">
                <ion-button [disabled]="isErrorMail || isErrorPhone || (user.password.trim() != user.confirm_password.trim() && user.confirm_password.trim().length < 2 )" (click)="register()" expand="full" class="btnLogin">Register</ion-button>
            </ion-col>
        </ion-row>
        <p> <a routerLink="/login">You already have an account ? Login</a> </p>
    </ion-content>